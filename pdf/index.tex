\href{https://travis-ci.org/markjolah/ParallelRngManager}{\tt } \subsection*{Parallel R\-N\-G Manager}

The \href{https://markjolah.github.io/ParallelRngManager/classparallel__rng_1_1ParallelRngManager.html}{\tt `\-Parallel\-Rng\-Manager`} class simplifies the task of initializing and coordinating random number generation for multiple threads in Open\-M\-P and other multi-\/threaded programming environments without the need for locks or the possibility of false sharing. A single integer value is used to seed a single random number generator that is partitioned into independent parallel random number generator streams.

Using a single random number generator seed makes deterministic testing and debugging of parallel stochastic algorithms practical. Additionally it is important to use a random number generator specifically designed for parallel use, as it is not in general safe to use independent random seeds for each processor if strong randomness properties and guaranteed a-\/correlation of the streams are arithmetically important considerations.

More generally, a {\itshape parallel random number generator} (P\-R\-N\-G) provides a set of N random number generator streams for multi-\/threaded applications, where each stream is produced from a single underlying random number generator with a single global seed. For certain classes of random number generators, a single stream can efficiently be partitioned into N threads without communication overhead. The \href{https://markjolah.github.io/ParallelRngManager/classparallel__rng_1_1ParallelRngManager.html}{\tt `parallel\-\_\-rng\-::\-Parallel\-Rng\-Manager`} class functions as an Open\-M\-P-\/aware manager for the P\-R\-N\-Gs from the \href{https://www.numbercrunch.de/trng/}{\tt Tina's Random Number Generator (T\-R\-N\-G) Library}.

\subsubsection*{Features}


\begin{DoxyItemize}
\item {\itshape Parallel\-Rng\-Manager} is C\-Make based, and provides {\ttfamily Parallel\-Rng\-Manager\-Config.\-cmake} files allowing {\ttfamily find\-\_\-pacakge(\-Parallel\-Rng\-Manager)} to find the package in either the build or install trees.
\item {\itshape Parallel\-Rng\-Manager} can automatically configure and install T\-R\-N\-G and alongside itself if it does not exist on the system.
\item {\itshape Parallel\-Rng\-Manager} is designed to work seamlessly with Open\-M\-P. It automatically manages the number of R\-N\-G streams based on hardware concurrency and prevents false sharing.
\item A {\itshape Parallel\-Rng\-Manager} object manages a single stream and uses Open\-M\-P {\ttfamily get\-\_\-num\-\_\-threads()} to allocate the correct number of sub-\/streams, which are kept on separate cache lines using \href{https://github.com/markjolah/AlignedArray}{\tt `aligned\-\_\-array\-::\-A\-Array$<$\-Rng\-T$>$`}.
\end{DoxyItemize}

\subsubsection*{Documentation}

The Parallel\-Rng\-Manager Doxygen documentation can be build with the {\ttfamily O\-P\-T\-\_\-\-D\-O\-C} C\-Make option and is also available on online\-:
\begin{DoxyItemize}
\item \href{https://markjolah.github.io/ParallelRngManager/index.html}{\tt Parallel\-Rng\-Manager H\-T\-M\-L Manual}
\item \href{https://markjolah.github.io/ParallelRngManager/pdf/ParallelRngManager-0.3-reference.pdf}{\tt Parallel\-Rng\-Manager P\-D\-F Manual}
\item \href{https://github.com/markjolah/ParallelRngManager}{\tt Parallel\-Rng\-Manager github repository}
\end{DoxyItemize}

\subsubsection*{Installation}

The easiest method is to use the default build script, which can be easily customized. The default build directory is {\ttfamily ./\-\_\-build} and the default install directory is {\ttfamily ./\-\_\-install}. \begin{DoxyVerb}> git clone https://github.com/markjolah/ParallelRngManager.git
> cd ParallelRngManager
> ./build.sh
\end{DoxyVerb}


If T\-R\-N\-G is not available on the system, it is important to have {\ttfamily C\-M\-A\-K\-E\-\_\-\-I\-N\-S\-T\-A\-L\-L\-\_\-\-P\-R\-E\-F\-I\-X} set to a valid install directory, even if it is just a local directory, as the autotools build is designed to install into the {\ttfamily C\-M\-A\-K\-E\-\_\-\-I\-N\-S\-T\-A\-L\-L\-\_\-\-P\-R\-E\-F\-I\-X} and Parallel\-Rng\-Manager is then expecting to find the T\-R\-N\-G library there.

\subsubsection*{C\-Make options}

The following C\-Make options control the build.
\begin{DoxyItemize}
\item {\ttfamily B\-U\-I\-L\-D\-\_\-\-S\-H\-A\-R\-E\-D\-\_\-\-L\-I\-B\-S} -\/ Build shared libraries
\item {\ttfamily B\-U\-I\-L\-D\-\_\-\-S\-T\-A\-T\-I\-C\-\_\-\-L\-I\-B\-S} -\/ Build static libraries
\item {\ttfamily B\-U\-I\-L\-D\-\_\-\-T\-E\-S\-T\-I\-N\-G} -\/ Build testing framework
\item {\ttfamily O\-P\-T\-\_\-\-D\-O\-C} -\/ Build documentation
\item {\ttfamily O\-P\-T\-\_\-\-I\-N\-S\-T\-A\-L\-L\-\_\-\-T\-E\-S\-T\-I\-N\-G} -\/ Install testing executables in install-\/tree.
\item {\ttfamily O\-P\-T\-\_\-\-E\-X\-P\-O\-R\-T\-\_\-\-B\-U\-I\-L\-D\-\_\-\-T\-R\-E\-E} -\/ Configure the package so it is usable from the build tree. Useful for development.
\item {\ttfamily O\-P\-T\-\_\-\-A\-R\-M\-A\-D\-I\-L\-L\-O\-\_\-\-I\-N\-T64} -\/ Use 64-\/bit integers for Armadillo, B\-L\-A\-S, and L\-A\-P\-A\-C\-K.
\end{DoxyItemize}

\subsubsection*{Dependencies}

Parallel\-Rng\-Manager is designed to be portable, but relies on several system development and numerical libraries. Currently Travis C\-I uses the {\itshape trusty} image to test Parallel\-Rng\-Manager Standard system dependencies
\begin{DoxyItemize}
\item $\ast$$>$=g++-\/4.9$\ast$ -\/ A {\ttfamily -\/-\/std=c++11} compliant G\-C\-C compiler
\item $\ast$$>$=C\-Make-\/3.\-9$\ast$
\item \href{https://www.openmp.org/}{\tt $\ast$\-Open\-M\-P$\ast$}
\item \href{http://arma.sourceforge.net/docs.html}{\tt $\ast$\-Armadillo$\ast$} -\/ A high-\/performance array library for C++.
\item \href{https://github.com/google/googletest}{\tt $\ast$googletest$\ast$} -\/ Required for testing ({\ttfamily B\-U\-I\-L\-D\-\_\-\-T\-E\-S\-T\-I\-N\-G=On})
\item \href{https://github.com/google/googletest}{\tt $\ast$\-Doxygen$\ast$} -\/ Required to generate documentation ({\ttfamily O\-P\-T\-\_\-\-D\-O\-C=On})
\begin{DoxyItemize}
\item {\itshape graphviz} -\/ Required to generate documentation ({\ttfamily make doc})
\item {\itshape L\-A\-P\-A\-C\-K} -\/ Required for generate pdf documenation ({\ttfamily make pdf})
\end{DoxyItemize}
\end{DoxyItemize}

\paragraph*{Tina's Random Number Generator (T\-R\-N\-G)}

The Parallel\-Rng\-Manager is a lightweight wrapper around the \href{https://www.numbercrunch.de/trng/}{\tt Tina's Random Number Generator (T\-R\-N\-G)} library. This rather specialized numerical library is normally not available on most Linux distributions, so for convenience the Parallel\-Rng\-Manager C\-Make build system will automatically download, configure, build, and install T\-R\-N\-G ({\ttfamily libtrng4.\-so}) into the {\ttfamily C\-M\-A\-K\-E\-\_\-\-I\-N\-S\-T\-A\-L\-L\-\_\-\-P\-R\-E\-F\-I\-X} path if it is not already present on the build system. This process uses the {\ttfamily Add\-External\-Autotools\-Dependency.\-cmake} function from the \href{https://github.com/markjolah/UncommonCMakeModules}{\tt Uncommon\-C\-Make\-Modules} dependency.


\begin{DoxyItemize}
\item \href{https://www.numbercrunch.de/trng/trng.pdf}{\tt T\-R\-N\-G Manual}
\item \href{http://arxiv.org/abs/cond-mat/0609584}{\tt H. Bauke and S. Mertens. \-\_\-\-Random Numbers for Large Scale Distributed Monte Carlo Simulations\-\_\-.}
\end{DoxyItemize}

\paragraph*{Other dependencies}

Parallel\-Rng\-Manager uses these reusable header-\/only component libraries via \href{https://github.com/ingydotnet/git-subrepo}{\tt `git subrepo`}
\begin{DoxyItemize}
\item \href{https://github.com/markjolah/AlignedArray}{\tt Aligned\-Array} -\/ Provides {\ttfamily aligned\-\_\-array\-::\-A\-Array$<$T$>$} which is an S\-T\-L conforming fixed-\/length array container which guarantees no two elements share a cache line, preventing false sharing in multi-\/threaded or Open\-M\-P programs. Parallel\-Rng\-Manager stores R\-N\-G streams in an {\ttfamily A\-Array$<$Rng\-T$>$} array to prevent false sharing.
\item \href{https://github.com/markjolah/AnyRng}{\tt Any\-Rng} -\/ Provides {\ttfamily any\-\_\-rng\-::\-Any\-Rng$<$result\-\_\-type$>$} which is a type-\/erased S\-T\-L random number generator type.
\item \href{https://github.com/markjolah/UncommonCMakeModules}{\tt Uncommon\-C\-Make\-Modules} -\/ Provides {\ttfamily Find\-T\-R\-N\-G.\-cmake} {\ttfamily Find\-Armadillo.\-cmake} and other useful C\-Make functions like {\ttfamily Export\-Package\-Wizzard.\-cmake}. Parallel\-Rng\-Manager only uses a small portion of these C\-Make modules but using a {\ttfamily git subrepo} pulls in the entire repository.
\end{DoxyItemize}

\subsubsection*{Testing}

Parallel\-Rng\-Manager uses \href{https://github.com/google/googletest}{\tt googletest} for C++ unit testing and integrates with C\-Test. To build tests, enable the {\ttfamily B\-U\-I\-L\-D\-\_\-\-T\-E\-S\-T\-I\-N\-G} C\-Make option and possibly also the {\ttfamily O\-P\-T\-\_\-\-I\-N\-S\-T\-A\-L\-L\-\_\-\-T\-E\-S\-T\-I\-N\-G} option to install tests along with Parallel\-Rng\-Manager.

Tests can be run with\-: \begin{DoxyVerb}> make test\end{DoxyVerb}
 